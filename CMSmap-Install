#!/bin/bash
# by: FershoUno
# Enlaces de los Grupos
# facebook: https://www.facebook.com/groups/nucleolinux/
# Facebook: https://www.facebook.com/groups/nucleolinux.uagrm 
# Telegram: https://t.me/nucleolinux_uagrm                     
# GitHub  : https://github.com/nucleolinux-uagrm
# Telegram: @FershoUno (personal)

home=$(pwd)
verde="\033[1;32m"
rojo="\033[1;31m"

apt-get update -y
apt-get install python -y

sleep 1 && echo -e  $verde"descargando y configurando exploitdb"
cd $PREFIX/share/
git clone https://github.com/offensive-security/exploitdb

echo "
##-- Program Settings
progname="$( basename "$0" )"


##-- Exploits
files_array+=("files_exploits.csv")
path_array+=("/data/data/com.termux/files/usr/share/exploitdb")
name_array+=("Exploit")
git_array+=("https://github.com/offensive-security/exploitdb.git")
package_array+=("exploitdb")


##-- Shellcodes
files_array+=("files_shellcodes.csv")
path_array+=("/data/data/com.termux/files/usr/share/exploitdb")
name_array+=("Shellcode")
git_array+=("https://github.com/offensive-security/exploitdb.git")
package_array+=("exploitdb")


##-- Papers
files_array+=("files_papers.csv")
path_array+=("/data/data/com.termux/files/usr/share/exploitdb-papers")
name_array+=("Paper")
git_array+=("https://github.com/offensive-security/exploitdb-papers.git")
package_array+=("exploitdb-papers")

" > $PREFIX/share/exploitdb/.searchsploit_rc

cp $PREFIX/share/exploitdb/searchsploit $PREFIX/bin


sleep 2 && echo $rojo"descargando y configurando CMSmap para Termux"
cd $home
mkdir -p tools
cd tools

git clone https://github.com/Dionach/CMSmap

cd CMSmap/cmsmap/

echo "
[general]
user-agent = Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.7) Gecko/2009021910 Firefox/3.0.7
dataPath = data
wordlist =  wordlist/rockyou.txt
common_files = data/common_files.txt
conf_extensions = data/conf_extensions.txt

[wordpress]
wp_plugins = data/wp_plugins.txt
wp_plugins_small = data/wp_plugins_small.txt
wp_themes_small = data/wp_themes_small.txt
wp_versions = data/wp_versions.txt
wp_themes = data/wp_themes.txt
wp_timthumbs = data/wp_timthumbs.txt
wp_defaultFiles = data/wp_defaultfiles.txt
wp_defaultFolders = data/wp_defaultfolders.txt

[joomla]
joo_plugins = data/joo_plugins.txt
joo_plugins_small = data/joo_plugins_small.txt
joo_versions = data/joo_versions.txt
joo_defaultFiles = data/joo_defaultfiles.txt
joo_defaultFolders = data/joo_defaultfolders.txt

[drupal]
dru_plugins = data/dru_plugins.txt
dru_plugins_small = data/dru_plugins_small.txt
dru_versions = data/dru_versions.txt
dru_defaultFiles = data/dru_defaultfiles.txt
dru_defaultFolders = data/dru_defaultfolders.txt

[moodle]
; moo_plugins = data/moo_plugins.txt
; moo_plugins_small = data/moo_plugins_small.txt
moo_versions = data/moo_versions.txt
moo_defaultFiles = data/moo_defaultfiles.txt
moo_defaultFolders = data/moo_defaultfolders.txt

[exploitdb]
edbtype = GIT
edbpath = /data/data/com.termux/files/usr/share/exploitdb/

" > cmsmap.conf
cd $home/tools/CMSmap/
python setup.py install


sleep 2 && echo -e $verde"Actualizando los plugins de CMSmap..!!"


cd  $home/tools/CMSmap/
python cmsmap.py --update PC

sleep 2 && echo -e $rojo"CMSmap esta listo..!!


Nota.- CMSmap esta escrito con la version de python 3.x"


